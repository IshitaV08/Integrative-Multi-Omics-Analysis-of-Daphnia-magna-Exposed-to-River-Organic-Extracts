from sklearn.ensemble import RandomForestClassifier
from sklearn.datasets import make_classification
from sklearn.model_selection import train_test_split
import numpy as np
from sklearn.datasets import make_classification
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import roc_curve, auc
import matplotlib.pyplot as plt
from sklearn.metrics import accuracy_score


# Generate sample data (replace with your actual data)
X1 = metabolic_merged_sheet_encoded.drop(columns = ['SampleID', 'REF_encoded', 'Site_encoded'])
y1 = metabolic_merged_sheet_encoded['REF_encoded']


X1_train, X1_test, y1_train, y1_test = train_test_split (X1,y1, test_size = 0.2, random_state = 42)
# Step 2: Instantiate the Random Forest Classifier
rf_clf = RandomForestClassifier(n_estimators=100, random_state=42)

# Step 3: Fit the Model
rf_clf.fit(X1, y1)

# Iterate over the number of trees to be added
n_iterations = 10
for i in range(n_iterations):
    # Fit the model with additional trees
    rf_clf.n_estimators += 10
    rf_clf.fit(X1_train, y1_train)
    
    # Predict on the test set
    y1_pred = rf_clf.predict(X1_test)
    
    # Evaluate the model
    accuracy = accuracy_score(y1_test, y1_pred)
    print(f"Iteration {i+1}: Added 10 trees, Test Accuracy: {accuracy:.4f}")


